/**
 * Typecho-Theme-Aria - The Aria of the Maple Leaves.
 * 
 * @author Siphils
 * @email siphils16@gmail.com
 * @version v1.7.1
 * @link https://eriri.ink
 * @license GNU General Public License v2.0
 * 
 */
var hexcase=0,b64pad="";function hex_md5(t){return rstr2hex(rstr_md5(str2rstr_utf8(t)))}function b64_md5(t){return rstr2b64(rstr_md5(str2rstr_utf8(t)))}function any_md5(t,e){return rstr2any(rstr_md5(str2rstr_utf8(t)),e)}function hex_hmac_md5(t,e){return rstr2hex(rstr_hmac_md5(str2rstr_utf8(t),str2rstr_utf8(e)))}function b64_hmac_md5(t,e){return rstr2b64(rstr_hmac_md5(str2rstr_utf8(t),str2rstr_utf8(e)))}function any_hmac_md5(t,e,n){return rstr2any(rstr_hmac_md5(str2rstr_utf8(t),str2rstr_utf8(e)),n)}function md5_vm_test(){return"900150983cd24fb0d6963f7d28e17f72"==hex_md5("abc").toLowerCase()}function rstr_md5(t){return binl2rstr(binl_md5(rstr2binl(t),8*t.length))}function rstr_hmac_md5(t,e){var n=rstr2binl(t);16<n.length&&(n=binl_md5(n,8*t.length));for(var a=Array(16),o=Array(16),r=0;r<16;r++)a[r]=909522486^n[r],o[r]=1549556828^n[r];var i=binl_md5(a.concat(rstr2binl(e)),512+8*e.length);return binl2rstr(binl_md5(o.concat(i),640))}function rstr2hex(t){for(var e,n=hexcase?"0123456789ABCDEF":"0123456789abcdef",a="",o=0;o<t.length;o++)e=t.charCodeAt(o),a+=n.charAt(e>>>4&15)+n.charAt(15&e);return a}function rstr2b64(t){for(var e="",n=t.length,a=0;a<n;a+=3)for(var o=t.charCodeAt(a)<<16|(a+1<n?t.charCodeAt(a+1)<<8:0)|(a+2<n?t.charCodeAt(a+2):0),r=0;r<4;r++)8*a+6*r>8*t.length?e+=b64pad:e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(o>>>6*(3-r)&63);return e}function rstr2any(t,e){var n,a,o,r,i,s=e.length,c=Array(Math.ceil(t.length/2));for(n=0;n<c.length;n++)c[n]=t.charCodeAt(2*n)<<8|t.charCodeAt(2*n+1);var l=Math.ceil(8*t.length/(Math.log(e.length)/Math.log(2))),d=Array(l);for(a=0;a<l;a++){for(i=Array(),n=r=0;n<c.length;n++)r=(r<<16)+c[n],r-=(o=Math.floor(r/s))*s,(0<i.length||0<o)&&(i[i.length]=o);d[a]=r,c=i}var m="";for(n=d.length-1;0<=n;n--)m+=e.charAt(d[n]);return m}function str2rstr_utf8(t){for(var e,n,a="",o=-1;++o<t.length;)e=t.charCodeAt(o),n=o+1<t.length?t.charCodeAt(o+1):0,55296<=e&&e<=56319&&56320<=n&&n<=57343&&(e=65536+((1023&e)<<10)+(1023&n),o++),e<=127?a+=String.fromCharCode(e):e<=2047?a+=String.fromCharCode(192|e>>>6&31,128|63&e):e<=65535?a+=String.fromCharCode(224|e>>>12&15,128|e>>>6&63,128|63&e):e<=2097151&&(a+=String.fromCharCode(240|e>>>18&7,128|e>>>12&63,128|e>>>6&63,128|63&e));return a}function str2rstr_utf16le(t){for(var e="",n=0;n<t.length;n++)e+=String.fromCharCode(255&t.charCodeAt(n),t.charCodeAt(n)>>>8&255);return e}function str2rstr_utf16be(t){for(var e="",n=0;n<t.length;n++)e+=String.fromCharCode(t.charCodeAt(n)>>>8&255,255&t.charCodeAt(n));return e}function rstr2binl(t){for(var e=Array(t.length>>2),n=0;n<e.length;n++)e[n]=0;for(n=0;n<8*t.length;n+=8)e[n>>5]|=(255&t.charCodeAt(n/8))<<n%32;return e}function binl2rstr(t){for(var e="",n=0;n<32*t.length;n+=8)e+=String.fromCharCode(t[n>>5]>>>n%32&255);return e}function binl_md5(t,e){t[e>>5]|=128<<e%32,t[14+(e+64>>>9<<4)]=e;for(var n=1732584193,a=-271733879,o=-1732584194,r=271733878,i=0;i<t.length;i+=16){var s=n,c=a,l=o,d=r;a=md5_ii(a=md5_ii(a=md5_ii(a=md5_ii(a=md5_hh(a=md5_hh(a=md5_hh(a=md5_hh(a=md5_gg(a=md5_gg(a=md5_gg(a=md5_gg(a=md5_ff(a=md5_ff(a=md5_ff(a=md5_ff(a,o=md5_ff(o,r=md5_ff(r,n=md5_ff(n,a,o,r,t[i+0],7,-680876936),a,o,t[i+1],12,-389564586),n,a,t[i+2],17,606105819),r,n,t[i+3],22,-1044525330),o=md5_ff(o,r=md5_ff(r,n=md5_ff(n,a,o,r,t[i+4],7,-176418897),a,o,t[i+5],12,1200080426),n,a,t[i+6],17,-1473231341),r,n,t[i+7],22,-45705983),o=md5_ff(o,r=md5_ff(r,n=md5_ff(n,a,o,r,t[i+8],7,1770035416),a,o,t[i+9],12,-1958414417),n,a,t[i+10],17,-42063),r,n,t[i+11],22,-1990404162),o=md5_ff(o,r=md5_ff(r,n=md5_ff(n,a,o,r,t[i+12],7,1804603682),a,o,t[i+13],12,-40341101),n,a,t[i+14],17,-1502002290),r,n,t[i+15],22,1236535329),o=md5_gg(o,r=md5_gg(r,n=md5_gg(n,a,o,r,t[i+1],5,-165796510),a,o,t[i+6],9,-1069501632),n,a,t[i+11],14,643717713),r,n,t[i+0],20,-373897302),o=md5_gg(o,r=md5_gg(r,n=md5_gg(n,a,o,r,t[i+5],5,-701558691),a,o,t[i+10],9,38016083),n,a,t[i+15],14,-660478335),r,n,t[i+4],20,-405537848),o=md5_gg(o,r=md5_gg(r,n=md5_gg(n,a,o,r,t[i+9],5,568446438),a,o,t[i+14],9,-1019803690),n,a,t[i+3],14,-187363961),r,n,t[i+8],20,1163531501),o=md5_gg(o,r=md5_gg(r,n=md5_gg(n,a,o,r,t[i+13],5,-1444681467),a,o,t[i+2],9,-51403784),n,a,t[i+7],14,1735328473),r,n,t[i+12],20,-1926607734),o=md5_hh(o,r=md5_hh(r,n=md5_hh(n,a,o,r,t[i+5],4,-378558),a,o,t[i+8],11,-2022574463),n,a,t[i+11],16,1839030562),r,n,t[i+14],23,-35309556),o=md5_hh(o,r=md5_hh(r,n=md5_hh(n,a,o,r,t[i+1],4,-1530992060),a,o,t[i+4],11,1272893353),n,a,t[i+7],16,-155497632),r,n,t[i+10],23,-1094730640),o=md5_hh(o,r=md5_hh(r,n=md5_hh(n,a,o,r,t[i+13],4,681279174),a,o,t[i+0],11,-358537222),n,a,t[i+3],16,-722521979),r,n,t[i+6],23,76029189),o=md5_hh(o,r=md5_hh(r,n=md5_hh(n,a,o,r,t[i+9],4,-640364487),a,o,t[i+12],11,-421815835),n,a,t[i+15],16,530742520),r,n,t[i+2],23,-995338651),o=md5_ii(o,r=md5_ii(r,n=md5_ii(n,a,o,r,t[i+0],6,-198630844),a,o,t[i+7],10,1126891415),n,a,t[i+14],15,-1416354905),r,n,t[i+5],21,-57434055),o=md5_ii(o,r=md5_ii(r,n=md5_ii(n,a,o,r,t[i+12],6,1700485571),a,o,t[i+3],10,-1894986606),n,a,t[i+10],15,-1051523),r,n,t[i+1],21,-2054922799),o=md5_ii(o,r=md5_ii(r,n=md5_ii(n,a,o,r,t[i+8],6,1873313359),a,o,t[i+15],10,-30611744),n,a,t[i+6],15,-1560198380),r,n,t[i+13],21,1309151649),o=md5_ii(o,r=md5_ii(r,n=md5_ii(n,a,o,r,t[i+4],6,-145523070),a,o,t[i+11],10,-1120210379),n,a,t[i+2],15,718787259),r,n,t[i+9],21,-343485551),n=safe_add(n,s),a=safe_add(a,c),o=safe_add(o,l),r=safe_add(r,d)}return Array(n,a,o,r)}function md5_cmn(t,e,n,a,o,r){return safe_add(bit_rol(safe_add(safe_add(e,t),safe_add(a,r)),o),n)}function md5_ff(t,e,n,a,o,r,i){return md5_cmn(e&n|~e&a,t,e,o,r,i)}function md5_gg(t,e,n,a,o,r,i){return md5_cmn(e&a|n&~a,t,e,o,r,i)}function md5_hh(t,e,n,a,o,r,i){return md5_cmn(e^n^a,t,e,o,r,i)}function md5_ii(t,e,n,a,o,r,i){return md5_cmn(n^(e|~a),t,e,o,r,i)}function safe_add(t,e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}function bit_rol(t,e){return t<<e|t>>>32-e}function closeNav(){return $("#nav-vertical").hasClass("nav-open")&&($("#nav-vertical").removeClass("nav-open"),$("#wrapper").removeClass("wrapper-open")),!1}!function(){function n(t,e){var n=document.createElement("div");n.className="notyf";var a=document.createElement("div");a.className="notyf-wrapper";var o=document.createElement("div");o.className="notyf-icon";var r=document.createElement("i");r.className=e;var i=document.createElement("div");i.className="notyf-message",i.innerHTML=t,o.appendChild(r),a.appendChild(o),a.appendChild(i),n.appendChild(a);var s=this;return setTimeout(function(){n.className+=" disappear",n.addEventListener(s.animationEnd,function(t){t.target==n&&s.container.removeChild(n)});var t=s.notifications.indexOf(n);s.notifications.splice(t,1)},s.options.delay),n}this.Notyf=function(){this.notifications=[];var t={delay:2e3,alertIcon:"notyf-alert-icon",confirmIcon:"notyf-confirm-icon"};arguments[0]&&"object"==typeof arguments[0]?this.options=function(t,e){for(property in e)e.hasOwnProperty(property)&&(t[property]=e[property]);return t}(t,arguments[0]):this.options=t;var e=document.createDocumentFragment(),n=document.createElement("div");n.className="notyf-container",e.appendChild(n),document.body.appendChild(e),this.container=n,this.animationEnd=function(){var t,e=document.createElement("fake"),n={transition:"animationend",OTransition:"oAnimationEnd",MozTransition:"animationend",WebkitTransition:"webkitAnimationEnd"};for(t in n)if(void 0!==e.style[t])return n[t]}()},this.Notyf.prototype.alert=function(t){var e=n.call(this,t,this.options.alertIcon);e.className+=" alert",this.container.appendChild(e),this.notifications.push(e)},this.Notyf.prototype.confirm=function(t){var e=n.call(this,t,this.options.confirmIcon);e.className+=" confirm",this.container.appendChild(e),this.notifications.push(e)}}(),function(t,e){"function"==typeof define&&define.amd?define([],function(){return e(t)}):"object"==typeof exports?module.exports=e(t):t.SmoothScroll=e(t)}("undefined"!=typeof global?global:"undefined"!=typeof window?window:this,function(b){"use strict";var x={ignore:"[data-scroll-ignore]",header:null,topOnEmptyHash:!0,speed:500,clip:!0,offset:0,easing:"easeInOutCubic",customEasing:null,updateURL:!0,popstate:!0,emitEvents:!0},O=function(){for(var n={},t=0;t<arguments.length;t++)!function(t){for(var e in t)t.hasOwnProperty(e)&&(n[e]=t[e])}(arguments[t]);return n},s=function(e){var n;try{n=decodeURIComponent(e)}catch(t){n=e}return n},c=function(t){"#"===t.charAt(0)&&(t=t.substr(1));for(var e,n=String(t),a=n.length,o=-1,r="",i=n.charCodeAt(0);++o<a;){if(0===(e=n.charCodeAt(o)))throw new InvalidCharacterError("Invalid character: the input contains U+0000.");r+=1<=e&&e<=31||127==e||0===o&&48<=e&&e<=57||1===o&&48<=e&&e<=57&&45===i?"\\"+e.toString(16)+" ":128<=e||45===e||95===e||48<=e&&e<=57||65<=e&&e<=90||97<=e&&e<=122?n.charAt(o):"\\"+n.charAt(o)}var s;try{s=decodeURIComponent("#"+r)}catch(t){s="#"+r}return s},A=function(){return Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight)},w=function(t){return t?(e=t,parseInt(b.getComputedStyle(e).height,10)+t.offsetTop):0;var e},I=function(t,e,n,a){if(e.emitEvents&&"function"==typeof b.CustomEvent){var o=new CustomEvent(t,{bubbles:!0,detail:{anchor:n,toggle:a}});document.dispatchEvent(o)}};return function(a,t){var v,o,y,$,e,C,E={cancelScroll:function(t){cancelAnimationFrame(C),C=null,t||I("scrollCancel",v)}};E.animateScroll=function(i,s,t){var e,n,c=O(v||x,t||{}),l="[object Number]"===Object.prototype.toString.call(i),a=l||!i.tagName?null:i;if(l||a){var d=b.pageYOffset;c.header&&!y&&(y=document.querySelector(c.header)),$||($=w(y));var m,o,r,f=l?i:function(t,e,n,a){var o=0;if(t.offsetParent)for(;o+=t.offsetTop,t=t.offsetParent;);return o=Math.max(o-e-n,0),a&&(o=Math.min(o,A()-b.innerHeight)),o}(a,$,parseInt("function"==typeof c.offset?c.offset(i,s):c.offset,10),c.clip),u=f-d,h=A(),p=0,g=function(t,e){var n,a,o,r=b.pageYOffset;if(t==e||r==e||(d<e&&b.innerHeight+r)>=h)return E.cancelScroll(!0),a=e,o=l,0===(n=i)&&document.body.focus(),o||(n.focus(),document.activeElement!==n&&(n.setAttribute("tabindex","-1"),n.focus(),n.style.outline="none"),b.scrollTo(0,a)),I("scrollStop",c,i,s),!(C=m=null)},_=function(t){var e,n,a;m||(m=t),o=(p+=t-m)/parseInt(c.speed,10),r=d+u*(n=o=1<o?1:o,"easeInQuad"===(e=c).easing&&(a=n*n),"easeOutQuad"===e.easing&&(a=n*(2-n)),"easeInOutQuad"===e.easing&&(a=n<.5?2*n*n:(4-2*n)*n-1),"easeInCubic"===e.easing&&(a=n*n*n),"easeOutCubic"===e.easing&&(a=--n*n*n+1),"easeInOutCubic"===e.easing&&(a=n<.5?4*n*n*n:(n-1)*(2*n-2)*(2*n-2)+1),"easeInQuart"===e.easing&&(a=n*n*n*n),"easeOutQuart"===e.easing&&(a=1- --n*n*n*n),"easeInOutQuart"===e.easing&&(a=n<.5?8*n*n*n*n:1-8*--n*n*n*n),"easeInQuint"===e.easing&&(a=n*n*n*n*n),"easeOutQuint"===e.easing&&(a=1+--n*n*n*n*n),"easeInOutQuint"===e.easing&&(a=n<.5?16*n*n*n*n*n:1+16*--n*n*n*n*n),e.customEasing&&(a=e.customEasing(n)),a||n),b.scrollTo(0,Math.floor(r)),g(r,f)||(C=b.requestAnimationFrame(_),m=t)};0===b.pageYOffset&&b.scrollTo(0,0),e=i,n=c,l||history.pushState&&n.updateURL&&history.pushState({smoothScroll:JSON.stringify(n),anchor:e.id},document.title,e===document.documentElement?"#top":"#"+e.id),I("scrollStart",c,i,s),E.cancelScroll(!0),b.requestAnimationFrame(_)}};var n=function(t){if(!("matchMedia"in b&&b.matchMedia("(prefers-reduced-motion)").matches)&&0===t.button&&!t.metaKey&&!t.ctrlKey&&"closest"in t.target&&(o=t.target.closest(a))&&"a"===o.tagName.toLowerCase()&&!t.target.closest(v.ignore)&&o.hostname===b.location.hostname&&o.pathname===b.location.pathname&&/#/.test(o.href)){var e=c(s(o.hash)),n=v.topOnEmptyHash&&"#"===e?document.documentElement:document.querySelector(e);(n=n||"#top"!==e?n:document.documentElement)&&(t.preventDefault(),E.animateScroll(n,o))}},r=function(t){if(history.state.smoothScroll&&history.state.smoothScroll===JSON.stringify(v)&&history.state.anchor){var e=document.querySelector(c(s(history.state.anchor)));e&&E.animateScroll(e,null,{updateURL:!1})}},i=function(t){e||(e=setTimeout(function(){e=null,$=w(y)},66))};return E.destroy=function(){v&&(document.removeEventListener("click",n,!1),b.removeEventListener("resize",i,!1),b.removeEventListener("popstate",r,!1),E.cancelScroll(),C=e=$=y=o=v=null)},E.init=function(t){if(!("querySelector"in document&&"addEventListener"in b&&"requestAnimationFrame"in b&&"closest"in b.Element.prototype))throw"Smooth Scroll: This browser does not support the required JavaScript methods and browser APIs.";E.destroy(),v=O(x,t||{}),y=v.header?document.querySelector(v.header):null,$=w(y),document.addEventListener("click",n,!1),y&&b.addEventListener("resize",i,!1),v.updateURL&&v.popstate&&b.addEventListener("popstate",r,!1)},E.init(t),E}}),window.Aria={init:function(){this.action(),THEME_CONFIG.USE_PJAX&&this.pjax(),THEME_CONFIG.USE_FANCYBOX&&this.fancybox(),THEME_CONFIG.SHOW_HITOKOTO&&this.hitokoto(),this.hljs(),this.commentPlus(),this.ajaxAvatar(),THEME_CONFIG.USE_AJAX_COMMENT&&this.ajaxComment(),THEME_CONFIG.USE_LAZYLOAD&&this.lazyload(),this.postOther(),console.log("%cVer "+THEME_CONFIG.THEME_VERSION+"%cTypecho-Theme-Aria%cBy Siphils https://eriri.ink/","color: #fff; background: #435561; padding:8px 8px;","color: #fff; background: #435561cf; padding:8px 8px;","color: #fff; background: #6fa8dc; padding:8px 8px;")},pjax:function(){$(document).pjax('a[href^="'+THEME_CONFIG.SITE_URL+'"]:not(a[target="_blank"], [no-pjax],a[rel~="nofollow"])',{container:"#pjax-container",fragment:"#pjax-container",timeout:8e3}).on("pjax:send",function(){NProgress.start(),Aria.doPjaxStartAction()}).on("pjax:complete",function(){NProgress.done(),Aria.doPjaxCompleteAction()})},fancybox:function(){($(".post-content img").length||$(".comment-content img").length)&&($("img:not([class~='link-avatar'])",".post-content").wrap(function(){return'<a href="'+this.src+'" data-caption="'+this.title+'" no-pjax class="fancybox" data-fancybox="gallery" style="outline:0"></a>'}),$("img",".comment-text").wrap(function(){return'<a href="'+this.src+'" data-caption="'+this.title+'" no-pjax class="fancybox" style="outline:0"></a>'}),$("a.fancybox").fancybox({animationEffect:"zoom-in-out",animationDuration:500,transitionEffect:"tube",transitionDuration:500,spinnerTpl:'<img style="position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);" src="'+THEME_CONFIG.THEME_URL+'/assets/img/loading.gif">'}))},hitokoto:function(){$.ajax({type:"GET",url:"https://v1.hitokoto.cn/?c=a&encode=text",success:function(t){$("#hitokoto").html(t)}})},hljs:function(){$("pre code").each(function(t,e){hljs.highlightBlock(e)}),$("ol.line-number").length||$("pre>code").each(function(){for(var t=$(this),e=parseInt(t.data("line-start")),n=parseInt(t.data("line-focus")),a=(i=t.html().split("\n")).length,o='<ol class="line-number" '+(isNaN(e)?"":'start="'+e+'"')+">",r=0;r<a;r++)o+=r===n-e?'<li class="hightlight">':"<li>",o+=i[r]+"</li>";o+="</ol>";var i=t.empty().append(o)})},commentPlus:function(){if($(".OwO").length)new OwO({logo:'<i class="iconfont icon-aria-emotion"></i>表情',container:document.getElementsByClassName("OwO")[0],target:document.getElementsByClassName("textarea")[0],api:THEME_CONFIG.OWO_JSON,position:"down",width:"100%",maxHeight:"250px"});$(".comment-image").length&&($(".comment-image")[0].onclick=function(){$("textarea")[0].value+="![图片描述](图片地址)"})},ajaxAvatar:function(){if($("#comment-cur-avatar").length){var t=document.getElementById("comment-cur-avatar"),e=document.getElementById("mail");function n(){email_value=e.value,email_md5=hex_md5(email_value),new_gravatar="https://cn.gravatar.com/avatar/"+email_md5+"?s=128&r=G",t.setAttribute("src",new_gravatar)}e.value&&n(),-1!=navigator.userAgent.toLowerCase().indexOf("webkit")?e.onblur=n:e.onchange=n,n()}},doPjaxStartAction:function(){$("#header").addClass("slideOutUp"),$("#body").addClass("fadeOut")},doPjaxCompleteAction:function(){$("#header").removeClass("slideOutUp").addClass("slideInDown"),$("#body").removeClass("fadeOut").addClass("fadeIn"),THEME_CONFIG.USE_AJAX_COMMENT&&Aria.ajaxComment(),THEME_CONFIG.USE_FANCYBOX&&Aria.fancybox(),THEME_CONFIG.SHOW_HITOKOTO&&Aria.hitokoto(),THEME_CONFIG.USE_LAZYLOAD&&Aria.lazyload(),Aria.hljs(),Aria.commentPlus(),Aria.ajaxAvatar(),Aria.postOther(),"undefined"!=typeof _hmt&&_hmt.push(["_trackPageview",location.pathname+location.search]),"undefined"!=typeof ga&&ga("send","pageview",location.pathname+location.search),closeNav()},ajaxComment:function(){replyTo="";var d=function(){$(".comment-reply a").click(function(){replyTo=$(this).parent().parent().parent().parent().attr("id")}),$(".cancel-comment-reply a").click(function(){replyTo=""})};d(),$("#comment-form").submit(function(){var e=$(".submit").eq(0),r=$("#comment-form"),i="",s=new Notyf({delay:3e3}),t=$(this).serializeArray();function c(){var t=parseInt($("#response").text());0==t?$("#response").html($("#response").html().replace(/\d+/,t+1)):1==t?$("#response").html($("#response").html().replace(/\d+\sComment/,t+1+" Comments")):$("#response").html($("#response").html().replace(/\d+/,t+1))}function l(t){e.attr("disabled",!1).css("cursor","pointer"),r.css({opacity:"1"}),$("textarea",r).css({background:"initial"}),$("input,textarea",r).attr("disabled",!1),t&&($("#textarea").val(""),replyTo=""),d()}return e.attr("disabled",!0).css("cursor","not-allowed"),r.css({opacity:".5"}),$("textarea",r).css({background:'url("'+THEME_CONFIG.THEME_URL+'/assets/img/loading.gif") center center no-repeat'}),$("input,textarea",r).attr("disabled",!0),$.ajax({type:$(this).attr("method"),url:$(this).attr("action"),data:t,success:function(t){var e;t=$("<code></code>").append($(t));if(!$("#comments",t).length)return s.alert($(".container",t).eq(0).text()),l(!1),!1;if($("input,textarea",r).attr("disabled",!1),$("#textarea").val(""),i=$(".comment-list",t).html().match(/id=\"?comment-\d+/g).join().match(/\d+/g).sort(function(t,e){return t-e}).pop(),""===replyTo)if($("#page-nav li").hasClass("next"))$("#page-nav a").get(-2).click();else{var n=parseInt($("#page-nav li",t).last().hasClass("next")?$("#page-nav li",t).eq(-2).text():$("#page-nav li",t).last().text()),a=parseInt($("#page-nav li").last().text());if(n&&a!=n){var o=$("#page-nav li",t).last().hasClass("next")?$("#page-nav a",t).eq(-2).attr("href"):$("#page-nav a",t).last().attr("href");$.ajax({url:o,success:function(t){$("#comment-data").html($("#comment-data",t)),$("#comments .comment-list").addClass("animated fadeInUp"),d()},error:function(t){window.location.href=o}})}else e=$("#li-comment-"+i,t),$(".comment-list").length||$("#comment-data").append('<ol class="comment-list"></ol>'),$("#comments .comment-list").first().append(e.addClass("animated fadeInUp")),c()}else e=$("#li-comment-"+i,t),$("#"+replyTo).find(".comment-children").length||$("#"+replyTo).append('<div class="comment-children"><ol class="comment-list"></ol></div>'),$("#"+replyTo+" .comment-children .comment-list").first().prepend(e.addClass("animated fadeInUp")),TypechoComment.cancelReply(),c();l(!0),s.confirm("评论提交成功！")},error:function(t){console.log("error"),console.error(t)}}),!1})},lazyload:function(){$("img:not([no-lazyload])").each(function(){$(this).attr("data-original",$(this).attr("src")),$(this).attr("src",THEME_CONFIG.THEME_URL+"/assets/img/loading.gif")}),$(".lazyload").lazyload({effect:"fadeIn"}),$("img:not([no-lazyload])").lazyload({effect:"fadeIn"})},postOther:function(){THEME_CONFIG.SHOW_QRCODE&&$(".post-qrcode").length&&$(".post-qrcode>a").on("click",function(){"none"!==$(".post-qrcode>div").css("display")?$(".post-qrcode>div").fadeOut():$(".post-qrcode>div").fadeIn().css("display","block")}),THEME_CONFIG.SHOW_REWARD&&$(".post-reward").length&&$(".post-reward>a").on("click",function(){"none"!==$(".post-reward>ul").css("display")?$(".post-reward>ul").fadeOut():$(".post-reward>ul").fadeIn().css("display","block")})},action:function(){closeNav(),$("#nav-menu-btn").click(function(t){t.stopPropagation(),$("#nav-vertical").addClass("nav-open"),$("#wrapper").addClass("wrapper-open"),$("#nav-vertical").hasClass("nav-open")&&$(document).one("click",function(){closeNav()})}),$("#nav-vertical").on("click",function(t){t.stopPropagation()}),$("#nav-vertical>.close").on("click",function(){$("#nav-vertical").removeClass("nav-open"),$("#wrapper").removeClass("wrapper-open")}),$("#search-box").hasClass("search-box-open")&&$("#search-box").removeClass("search-box-open"),$("#nav-search-btn").on("click",function(){$("#search-box").addClass("search-box-open")}),$("#search-box>.close").on("click",function(){$("#search-box").removeClass("search-box-open")}),$(window).scroll(function(){100<$(window).scrollTop()?$("#go-top").fadeIn(500):$("#go-top").fadeOut(500,function(){$("#go-top").css("display","none")})}),$("#go-top").click(function(){return $("#go-top").animate({bottom:135,opacity:0}),$("body,html").animate({scrollTop:0},1e3,function(){$("#go-top").animate({bottom:100,opacity:1})}),!1}),window.addEventListener("scroll",function(){(document.documentElement.scrollTop||document.body.scrollTop)<=0?$("#site-avatar").css({height:"35px",width:"35px",margin:"7.5px 5px 0 0"}):$("#site-avatar").css({height:"25px",width:"25px",margin:"12.5px 5px 0 0"})});var t;t=document.querySelector("#nav-menu"),new Headroom(t).init()}},window.onload=Aria.init();