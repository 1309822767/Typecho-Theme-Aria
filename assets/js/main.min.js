/**
 * Typecho-Theme-Aria - 书写属于自己的篇章
 * 
 * @author Siphils
 * @email siphils16@gmail.com
 * @version v1.8.0
 * @link https://eriri.ink
 * @license GNU General Public License v2.0
 * 
 */
!function(t,e){"use strict";"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?module.exports=e():t.Headroom=e()}(this,function(){"use strict";function t(t){this.callback=t,this.ticking=!1}function o(t,e){var n;e=function t(e){if(arguments.length<=0)throw new Error("Missing arguments in extend function");var n,o,i,r=e||{};for(o=1;o<arguments.length;o++){var a=arguments[o]||{};for(n in a)"object"!=typeof r[n]||(i=r[n])&&"undefined"!=typeof window&&(i===window||i.nodeType)?r[n]=r[n]||a[n]:r[n]=t(r[n],a[n])}return r}(e,o.options),this.lastKnownScrollY=0,this.elem=t,this.tolerance=(n=e.tolerance)===Object(n)?n:{down:n,up:n},this.classes=e.classes,this.offset=e.offset,this.scroller=e.scroller,this.initialised=!1,this.onPin=e.onPin,this.onUnpin=e.onUnpin,this.onTop=e.onTop,this.onNotTop=e.onNotTop,this.onBottom=e.onBottom,this.onNotBottom=e.onNotBottom}var e={bind:!!function(){}.bind,classList:"classList"in document.documentElement,rAF:!!(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame)};return window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame,t.prototype={constructor:t,update:function(){this.callback&&this.callback(),this.ticking=!1},requestTick:function(){this.ticking||(requestAnimationFrame(this.rafCallback||(this.rafCallback=this.update.bind(this))),this.ticking=!0)},handleEvent:function(){this.requestTick()}},o.prototype={constructor:o,init:function(){if(o.cutsTheMustard)return this.debouncer=new t(this.update.bind(this)),this.elem.classList.add(this.classes.initial),setTimeout(this.attachEvent.bind(this),100),this},destroy:function(){var t=this.classes;for(var e in this.initialised=!1,t)t.hasOwnProperty(e)&&this.elem.classList.remove(t[e]);this.scroller.removeEventListener("scroll",this.debouncer,!1)},attachEvent:function(){this.initialised||(this.lastKnownScrollY=this.getScrollY(),this.initialised=!0,this.scroller.addEventListener("scroll",this.debouncer,!1),this.debouncer.handleEvent())},unpin:function(){var t=this.elem.classList,e=this.classes;!t.contains(e.pinned)&&t.contains(e.unpinned)||(t.add(e.unpinned),t.remove(e.pinned),this.onUnpin&&this.onUnpin.call(this))},pin:function(){var t=this.elem.classList,e=this.classes;t.contains(e.unpinned)&&(t.remove(e.unpinned),t.add(e.pinned),this.onPin&&this.onPin.call(this))},top:function(){var t=this.elem.classList,e=this.classes;t.contains(e.top)||(t.add(e.top),t.remove(e.notTop),this.onTop&&this.onTop.call(this))},notTop:function(){var t=this.elem.classList,e=this.classes;t.contains(e.notTop)||(t.add(e.notTop),t.remove(e.top),this.onNotTop&&this.onNotTop.call(this))},bottom:function(){var t=this.elem.classList,e=this.classes;t.contains(e.bottom)||(t.add(e.bottom),t.remove(e.notBottom),this.onBottom&&this.onBottom.call(this))},notBottom:function(){var t=this.elem.classList,e=this.classes;t.contains(e.notBottom)||(t.add(e.notBottom),t.remove(e.bottom),this.onNotBottom&&this.onNotBottom.call(this))},getScrollY:function(){return void 0!==this.scroller.pageYOffset?this.scroller.pageYOffset:void 0!==this.scroller.scrollTop?this.scroller.scrollTop:(document.documentElement||document.body.parentNode||document.body).scrollTop},getViewportHeight:function(){return window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight},getElementPhysicalHeight:function(t){return Math.max(t.offsetHeight,t.clientHeight)},getScrollerPhysicalHeight:function(){return this.scroller===window||this.scroller===document.body?this.getViewportHeight():this.getElementPhysicalHeight(this.scroller)},getDocumentHeight:function(){var t=document.body,e=document.documentElement;return Math.max(t.scrollHeight,e.scrollHeight,t.offsetHeight,e.offsetHeight,t.clientHeight,e.clientHeight)},getElementHeight:function(t){return Math.max(t.scrollHeight,t.offsetHeight,t.clientHeight)},getScrollerHeight:function(){return this.scroller===window||this.scroller===document.body?this.getDocumentHeight():this.getElementHeight(this.scroller)},isOutOfBounds:function(t){var e=t<0,n=t+this.getScrollerPhysicalHeight()>this.getScrollerHeight();return e||n},toleranceExceeded:function(t,e){return Math.abs(t-this.lastKnownScrollY)>=this.tolerance[e]},shouldUnpin:function(t,e){var n=t>this.lastKnownScrollY,o=t>=this.offset;return n&&o&&e},shouldPin:function(t,e){var n=t<this.lastKnownScrollY,o=t<=this.offset;return n&&e||o},update:function(){var t=this.getScrollY(),e=t>this.lastKnownScrollY?"down":"up",n=this.toleranceExceeded(t,e);this.isOutOfBounds(t)||(t<=this.offset?this.top():this.notTop(),t+this.getViewportHeight()>=this.getScrollerHeight()?this.bottom():this.notBottom(),this.shouldUnpin(t,n)?this.unpin():this.shouldPin(t,n)&&this.pin(),this.lastKnownScrollY=t)}},o.options={tolerance:{up:0,down:0},offset:0,scroller:window,classes:{pinned:"headroom--pinned",unpinned:"headroom--unpinned",top:"headroom--top",notTop:"headroom--not-top",bottom:"headroom--bottom",notBottom:"headroom--not-bottom",initial:"headroom"}},o.cutsTheMustard=void 0!==e&&e.rAF&&e.bind&&e.classList,o});var hexcase=0,b64pad="";function hex_md5(t){return rstr2hex(rstr_md5(str2rstr_utf8(t)))}function b64_md5(t){return rstr2b64(rstr_md5(str2rstr_utf8(t)))}function any_md5(t,e){return rstr2any(rstr_md5(str2rstr_utf8(t)),e)}function hex_hmac_md5(t,e){return rstr2hex(rstr_hmac_md5(str2rstr_utf8(t),str2rstr_utf8(e)))}function b64_hmac_md5(t,e){return rstr2b64(rstr_hmac_md5(str2rstr_utf8(t),str2rstr_utf8(e)))}function any_hmac_md5(t,e,n){return rstr2any(rstr_hmac_md5(str2rstr_utf8(t),str2rstr_utf8(e)),n)}function md5_vm_test(){return"900150983cd24fb0d6963f7d28e17f72"==hex_md5("abc").toLowerCase()}function rstr_md5(t){return binl2rstr(binl_md5(rstr2binl(t),8*t.length))}function rstr_hmac_md5(t,e){var n=rstr2binl(t);16<n.length&&(n=binl_md5(n,8*t.length));for(var o=Array(16),i=Array(16),r=0;r<16;r++)o[r]=909522486^n[r],i[r]=1549556828^n[r];var a=binl_md5(o.concat(rstr2binl(e)),512+8*e.length);return binl2rstr(binl_md5(i.concat(a),640))}function rstr2hex(t){for(var e,n=hexcase?"0123456789ABCDEF":"0123456789abcdef",o="",i=0;i<t.length;i++)e=t.charCodeAt(i),o+=n.charAt(e>>>4&15)+n.charAt(15&e);return o}function rstr2b64(t){for(var e="",n=t.length,o=0;o<n;o+=3)for(var i=t.charCodeAt(o)<<16|(o+1<n?t.charCodeAt(o+1)<<8:0)|(o+2<n?t.charCodeAt(o+2):0),r=0;r<4;r++)8*o+6*r>8*t.length?e+=b64pad:e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(i>>>6*(3-r)&63);return e}function rstr2any(t,e){var n,o,i,r,a,s=e.length,c=Array(Math.ceil(t.length/2));for(n=0;n<c.length;n++)c[n]=t.charCodeAt(2*n)<<8|t.charCodeAt(2*n+1);var l=Math.ceil(8*t.length/(Math.log(e.length)/Math.log(2))),d=Array(l);for(o=0;o<l;o++){for(a=Array(),n=r=0;n<c.length;n++)r=(r<<16)+c[n],r-=(i=Math.floor(r/s))*s,(0<a.length||0<i)&&(a[a.length]=i);d[o]=r,c=a}var m="";for(n=d.length-1;0<=n;n--)m+=e.charAt(d[n]);return m}function str2rstr_utf8(t){for(var e,n,o="",i=-1;++i<t.length;)e=t.charCodeAt(i),n=i+1<t.length?t.charCodeAt(i+1):0,55296<=e&&e<=56319&&56320<=n&&n<=57343&&(e=65536+((1023&e)<<10)+(1023&n),i++),e<=127?o+=String.fromCharCode(e):e<=2047?o+=String.fromCharCode(192|e>>>6&31,128|63&e):e<=65535?o+=String.fromCharCode(224|e>>>12&15,128|e>>>6&63,128|63&e):e<=2097151&&(o+=String.fromCharCode(240|e>>>18&7,128|e>>>12&63,128|e>>>6&63,128|63&e));return o}function str2rstr_utf16le(t){for(var e="",n=0;n<t.length;n++)e+=String.fromCharCode(255&t.charCodeAt(n),t.charCodeAt(n)>>>8&255);return e}function str2rstr_utf16be(t){for(var e="",n=0;n<t.length;n++)e+=String.fromCharCode(t.charCodeAt(n)>>>8&255,255&t.charCodeAt(n));return e}function rstr2binl(t){for(var e=Array(t.length>>2),n=0;n<e.length;n++)e[n]=0;for(n=0;n<8*t.length;n+=8)e[n>>5]|=(255&t.charCodeAt(n/8))<<n%32;return e}function binl2rstr(t){for(var e="",n=0;n<32*t.length;n+=8)e+=String.fromCharCode(t[n>>5]>>>n%32&255);return e}function binl_md5(t,e){t[e>>5]|=128<<e%32,t[14+(e+64>>>9<<4)]=e;for(var n=1732584193,o=-271733879,i=-1732584194,r=271733878,a=0;a<t.length;a+=16){var s=n,c=o,l=i,d=r;o=md5_ii(o=md5_ii(o=md5_ii(o=md5_ii(o=md5_hh(o=md5_hh(o=md5_hh(o=md5_hh(o=md5_gg(o=md5_gg(o=md5_gg(o=md5_gg(o=md5_ff(o=md5_ff(o=md5_ff(o=md5_ff(o,i=md5_ff(i,r=md5_ff(r,n=md5_ff(n,o,i,r,t[a+0],7,-680876936),o,i,t[a+1],12,-389564586),n,o,t[a+2],17,606105819),r,n,t[a+3],22,-1044525330),i=md5_ff(i,r=md5_ff(r,n=md5_ff(n,o,i,r,t[a+4],7,-176418897),o,i,t[a+5],12,1200080426),n,o,t[a+6],17,-1473231341),r,n,t[a+7],22,-45705983),i=md5_ff(i,r=md5_ff(r,n=md5_ff(n,o,i,r,t[a+8],7,1770035416),o,i,t[a+9],12,-1958414417),n,o,t[a+10],17,-42063),r,n,t[a+11],22,-1990404162),i=md5_ff(i,r=md5_ff(r,n=md5_ff(n,o,i,r,t[a+12],7,1804603682),o,i,t[a+13],12,-40341101),n,o,t[a+14],17,-1502002290),r,n,t[a+15],22,1236535329),i=md5_gg(i,r=md5_gg(r,n=md5_gg(n,o,i,r,t[a+1],5,-165796510),o,i,t[a+6],9,-1069501632),n,o,t[a+11],14,643717713),r,n,t[a+0],20,-373897302),i=md5_gg(i,r=md5_gg(r,n=md5_gg(n,o,i,r,t[a+5],5,-701558691),o,i,t[a+10],9,38016083),n,o,t[a+15],14,-660478335),r,n,t[a+4],20,-405537848),i=md5_gg(i,r=md5_gg(r,n=md5_gg(n,o,i,r,t[a+9],5,568446438),o,i,t[a+14],9,-1019803690),n,o,t[a+3],14,-187363961),r,n,t[a+8],20,1163531501),i=md5_gg(i,r=md5_gg(r,n=md5_gg(n,o,i,r,t[a+13],5,-1444681467),o,i,t[a+2],9,-51403784),n,o,t[a+7],14,1735328473),r,n,t[a+12],20,-1926607734),i=md5_hh(i,r=md5_hh(r,n=md5_hh(n,o,i,r,t[a+5],4,-378558),o,i,t[a+8],11,-2022574463),n,o,t[a+11],16,1839030562),r,n,t[a+14],23,-35309556),i=md5_hh(i,r=md5_hh(r,n=md5_hh(n,o,i,r,t[a+1],4,-1530992060),o,i,t[a+4],11,1272893353),n,o,t[a+7],16,-155497632),r,n,t[a+10],23,-1094730640),i=md5_hh(i,r=md5_hh(r,n=md5_hh(n,o,i,r,t[a+13],4,681279174),o,i,t[a+0],11,-358537222),n,o,t[a+3],16,-722521979),r,n,t[a+6],23,76029189),i=md5_hh(i,r=md5_hh(r,n=md5_hh(n,o,i,r,t[a+9],4,-640364487),o,i,t[a+12],11,-421815835),n,o,t[a+15],16,530742520),r,n,t[a+2],23,-995338651),i=md5_ii(i,r=md5_ii(r,n=md5_ii(n,o,i,r,t[a+0],6,-198630844),o,i,t[a+7],10,1126891415),n,o,t[a+14],15,-1416354905),r,n,t[a+5],21,-57434055),i=md5_ii(i,r=md5_ii(r,n=md5_ii(n,o,i,r,t[a+12],6,1700485571),o,i,t[a+3],10,-1894986606),n,o,t[a+10],15,-1051523),r,n,t[a+1],21,-2054922799),i=md5_ii(i,r=md5_ii(r,n=md5_ii(n,o,i,r,t[a+8],6,1873313359),o,i,t[a+15],10,-30611744),n,o,t[a+6],15,-1560198380),r,n,t[a+13],21,1309151649),i=md5_ii(i,r=md5_ii(r,n=md5_ii(n,o,i,r,t[a+4],6,-145523070),o,i,t[a+11],10,-1120210379),n,o,t[a+2],15,718787259),r,n,t[a+9],21,-343485551),n=safe_add(n,s),o=safe_add(o,c),i=safe_add(i,l),r=safe_add(r,d)}return Array(n,o,i,r)}function md5_cmn(t,e,n,o,i,r){return safe_add(bit_rol(safe_add(safe_add(e,t),safe_add(o,r)),i),n)}function md5_ff(t,e,n,o,i,r,a){return md5_cmn(e&n|~e&o,t,e,i,r,a)}function md5_gg(t,e,n,o,i,r,a){return md5_cmn(e&o|n&~o,t,e,i,r,a)}function md5_hh(t,e,n,o,i,r,a){return md5_cmn(e^n^o,t,e,i,r,a)}function md5_ii(t,e,n,o,i,r,a){return md5_cmn(n^(e|~o),t,e,i,r,a)}function safe_add(t,e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}function bit_rol(t,e){return t<<e|t>>>32-e}function closeNav(){return $("#nav-vertical").hasClass("nav-open")&&($("#nav-vertical").removeClass("nav-open"),$("#wrapper").removeClass("wrapper-open")),!1}!function(){function n(t,e){var n=document.createElement("div");n.className="notyf";var o=document.createElement("div");o.className="notyf-wrapper";var i=document.createElement("div");i.className="notyf-icon";var r=document.createElement("i");r.className=e;var a=document.createElement("div");a.className="notyf-message",a.innerHTML=t,i.appendChild(r),o.appendChild(i),o.appendChild(a),n.appendChild(o);var s=this;return setTimeout(function(){n.className+=" disappear",n.addEventListener(s.animationEnd,function(t){t.target==n&&s.container.removeChild(n)});var t=s.notifications.indexOf(n);s.notifications.splice(t,1)},s.options.delay),n}this.Notyf=function(){this.notifications=[];var t={delay:2e3,alertIcon:"notyf-alert-icon",confirmIcon:"notyf-confirm-icon"};arguments[0]&&"object"==typeof arguments[0]?this.options=function(t,e){for(property in e)e.hasOwnProperty(property)&&(t[property]=e[property]);return t}(t,arguments[0]):this.options=t;var e=document.createDocumentFragment(),n=document.createElement("div");n.className="notyf-container",e.appendChild(n),document.body.appendChild(e),this.container=n,this.animationEnd=function(){var t,e=document.createElement("fake"),n={transition:"animationend",OTransition:"oAnimationEnd",MozTransition:"animationend",WebkitTransition:"webkitAnimationEnd"};for(t in n)if(void 0!==e.style[t])return n[t]}()},this.Notyf.prototype.alert=function(t){var e=n.call(this,t,this.options.alertIcon);e.className+=" alert",this.container.appendChild(e),this.notifications.push(e)},this.Notyf.prototype.confirm=function(t){var e=n.call(this,t,this.options.confirmIcon);e.className+=" confirm",this.container.appendChild(e),this.notifications.push(e)}}(),function(t,e){"function"==typeof define&&define.amd?define([],function(){return e(t)}):"object"==typeof exports?module.exports=e(t):t.SmoothScroll=e(t)}("undefined"!=typeof global?global:"undefined"!=typeof window?window:this,function(C){"use strict";var w={ignore:"[data-scroll-ignore]",header:null,topOnEmptyHash:!0,speed:500,clip:!0,offset:0,easing:"easeInOutCubic",customEasing:null,updateURL:!0,popstate:!0,emitEvents:!0},x=function(){for(var n={},t=0;t<arguments.length;t++)!function(t){for(var e in t)t.hasOwnProperty(e)&&(n[e]=t[e])}(arguments[t]);return n},s=function(e){var n;try{n=decodeURIComponent(e)}catch(t){n=e}return n},c=function(t){"#"===t.charAt(0)&&(t=t.substr(1));for(var e,n=String(t),o=n.length,i=-1,r="",a=n.charCodeAt(0);++i<o;){if(0===(e=n.charCodeAt(i)))throw new InvalidCharacterError("Invalid character: the input contains U+0000.");r+=1<=e&&e<=31||127==e||0===i&&48<=e&&e<=57||1===i&&48<=e&&e<=57&&45===a?"\\"+e.toString(16)+" ":128<=e||45===e||95===e||48<=e&&e<=57||65<=e&&e<=90||97<=e&&e<=122?n.charAt(i):"\\"+n.charAt(i)}var s;try{s=decodeURIComponent("#"+r)}catch(t){s="#"+r}return s},O=function(){return Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight)},S=function(t){return t?(e=t,parseInt(C.getComputedStyle(e).height,10)+t.offsetTop):0;var e},T=function(t,e,n,o){if(e.emitEvents&&"function"==typeof C.CustomEvent){var i=new CustomEvent(t,{bubbles:!0,detail:{anchor:n,toggle:o}});document.dispatchEvent(i)}};return function(o,t){var y,i,_,b,e,E,$={cancelScroll:function(t){cancelAnimationFrame(E),E=null,t||T("scrollCancel",y)}};$.animateScroll=function(a,s,t){var e,n,c=x(y||w,t||{}),l="[object Number]"===Object.prototype.toString.call(a),o=l||!a.tagName?null:a;if(l||o){var d=C.pageYOffset;c.header&&!_&&(_=document.querySelector(c.header)),b||(b=S(_));var m,i,r,u=l?a:function(t,e,n,o){var i=0;if(t.offsetParent)for(;i+=t.offsetTop,t=t.offsetParent;);return i=Math.max(i-e-n,0),o&&(i=Math.min(i,O()-C.innerHeight)),i}(o,b,parseInt("function"==typeof c.offset?c.offset(a,s):c.offset,10),c.clip),h=u-d,f=O(),p=0,g=function(t,e){var n,o,i,r=C.pageYOffset;if(t==e||r==e||(d<e&&C.innerHeight+r)>=f)return $.cancelScroll(!0),o=e,i=l,0===(n=a)&&document.body.focus(),i||(n.focus(),document.activeElement!==n&&(n.setAttribute("tabindex","-1"),n.focus(),n.style.outline="none"),C.scrollTo(0,o)),T("scrollStop",c,a,s),!(E=m=null)},v=function(t){var e,n,o;m||(m=t),i=(p+=t-m)/parseInt(c.speed,10),r=d+h*(n=i=1<i?1:i,"easeInQuad"===(e=c).easing&&(o=n*n),"easeOutQuad"===e.easing&&(o=n*(2-n)),"easeInOutQuad"===e.easing&&(o=n<.5?2*n*n:(4-2*n)*n-1),"easeInCubic"===e.easing&&(o=n*n*n),"easeOutCubic"===e.easing&&(o=--n*n*n+1),"easeInOutCubic"===e.easing&&(o=n<.5?4*n*n*n:(n-1)*(2*n-2)*(2*n-2)+1),"easeInQuart"===e.easing&&(o=n*n*n*n),"easeOutQuart"===e.easing&&(o=1- --n*n*n*n),"easeInOutQuart"===e.easing&&(o=n<.5?8*n*n*n*n:1-8*--n*n*n*n),"easeInQuint"===e.easing&&(o=n*n*n*n*n),"easeOutQuint"===e.easing&&(o=1+--n*n*n*n*n),"easeInOutQuint"===e.easing&&(o=n<.5?16*n*n*n*n*n:1+16*--n*n*n*n*n),e.customEasing&&(o=e.customEasing(n)),o||n),C.scrollTo(0,Math.floor(r)),g(r,u)||(E=C.requestAnimationFrame(v),m=t)};0===C.pageYOffset&&C.scrollTo(0,0),e=a,n=c,l||history.pushState&&n.updateURL&&history.pushState({smoothScroll:JSON.stringify(n),anchor:e.id},document.title,e===document.documentElement?"#top":"#"+e.id),T("scrollStart",c,a,s),$.cancelScroll(!0),C.requestAnimationFrame(v)}};var n=function(t){if(!("matchMedia"in C&&C.matchMedia("(prefers-reduced-motion)").matches)&&0===t.button&&!t.metaKey&&!t.ctrlKey&&"closest"in t.target&&(i=t.target.closest(o))&&"a"===i.tagName.toLowerCase()&&!t.target.closest(y.ignore)&&i.hostname===C.location.hostname&&i.pathname===C.location.pathname&&/#/.test(i.href)){var e=c(s(i.hash)),n=y.topOnEmptyHash&&"#"===e?document.documentElement:document.querySelector(e);(n=n||"#top"!==e?n:document.documentElement)&&(t.preventDefault(),$.animateScroll(n,i))}},r=function(t){if(history.state.smoothScroll&&history.state.smoothScroll===JSON.stringify(y)&&history.state.anchor){var e=document.querySelector(c(s(history.state.anchor)));e&&$.animateScroll(e,null,{updateURL:!1})}},a=function(t){e||(e=setTimeout(function(){e=null,b=S(_)},66))};return $.destroy=function(){y&&(document.removeEventListener("click",n,!1),C.removeEventListener("resize",a,!1),C.removeEventListener("popstate",r,!1),$.cancelScroll(),E=e=b=_=i=y=null)},$.init=function(t){if(!("querySelector"in document&&"addEventListener"in C&&"requestAnimationFrame"in C&&"closest"in C.Element.prototype))throw"Smooth Scroll: This browser does not support the required JavaScript methods and browser APIs.";$.destroy(),y=x(w,t||{}),_=y.header?document.querySelector(y.header):null,b=S(_),document.addEventListener("click",n,!1),_&&C.addEventListener("resize",a,!1),y.updateURL&&y.popstate&&C.addEventListener("popstate",r,!1)},$.init(t),$}}),function(t,e){"function"==typeof define&&define.amd?define(e):"object"==typeof exports?module.exports=e():t.NProgress=e()}(this,function(){function n(t,e,n){return t<e?e:n<t?n:t}function d(t){return 100*(-1+t)}function i(t,e){return 0<=("string"==typeof t?t:r(t)).indexOf(" "+e+" ")}function a(t,e){var n=r(t),o=n+e;i(n,e)||(t.className=o.substring(1))}function e(t,e){var n,o=r(t);i(t,e)&&(n=o.replace(" "+e+" "," "),t.className=n.substring(1,n.length-1))}function r(t){return(" "+(t.className||"")+" ").replace(/\s+/gi," ")}function s(t){t&&t.parentNode&&t.parentNode.removeChild(t)}var o,c,m={version:"0.2.0"},u=m.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};m.configure=function(t){var e,n;for(e in t)void 0!==(n=t[e])&&t.hasOwnProperty(e)&&(u[e]=n);return this},m.status=null,m.set=function(r){var t=m.isStarted();r=n(r,u.minimum,1),m.status=1===r?null:r;var a=m.render(!t),s=a.querySelector(u.barSelector),c=u.speed,l=u.easing;return a.offsetWidth,h(function(t){var e,n,o,i;""===u.positionUsing&&(u.positionUsing=m.getPositioningCSS()),f(s,(e=r,n=c,o=l,(i="translate3d"===u.positionUsing?{transform:"translate3d("+d(e)+"%,0,0)"}:"translate"===u.positionUsing?{transform:"translate("+d(e)+"%,0)"}:{"margin-left":d(e)+"%"}).transition="all "+n+"ms "+o,i)),1===r?(f(a,{transition:"none",opacity:1}),a.offsetWidth,setTimeout(function(){f(a,{transition:"all "+c+"ms linear",opacity:0}),setTimeout(function(){m.remove(),t()},c)},c)):setTimeout(t,c)}),this},m.isStarted=function(){return"number"==typeof m.status},m.start=function(){m.status||m.set(0);var t=function(){setTimeout(function(){m.status&&(m.trickle(),t())},u.trickleSpeed)};return u.trickle&&t(),this},m.done=function(t){return t||m.status?m.inc(.3+.5*Math.random()).set(1):this},m.inc=function(t){var e=m.status;return e?("number"!=typeof t&&(t=(1-e)*n(Math.random()*e,.1,.95)),e=n(e+t,0,.994),m.set(e)):m.start()},m.trickle=function(){return m.inc(Math.random()*u.trickleRate)},c=o=0,m.promise=function(t){return t&&"resolved"!==t.state()&&(0===c&&m.start(),o++,c++,t.always(function(){0==--c?(o=0,m.done()):m.set((o-c)/o)})),this},m.render=function(t){if(m.isRendered())return document.getElementById("nprogress");a(document.documentElement,"nprogress-busy");var e=document.createElement("div");e.id="nprogress",e.innerHTML=u.template;var n,o=e.querySelector(u.barSelector),i=t?"-100":d(m.status||0),r=document.querySelector(u.parent);return f(o,{transition:"all 0 linear",transform:"translate3d("+i+"%,0,0)"}),u.showSpinner||(n=e.querySelector(u.spinnerSelector))&&s(n),r!=document.body&&a(r,"nprogress-custom-parent"),r.appendChild(e),e},m.remove=function(){e(document.documentElement,"nprogress-busy"),e(document.querySelector(u.parent),"nprogress-custom-parent");var t=document.getElementById("nprogress");t&&s(t)},m.isRendered=function(){return!!document.getElementById("nprogress")},m.getPositioningCSS=function(){var t=document.body.style,e="WebkitTransform"in t?"Webkit":"MozTransform"in t?"Moz":"msTransform"in t?"ms":"OTransform"in t?"O":"";return e+"Perspective"in t?"translate3d":e+"Transform"in t?"translate":"margin"};var h=function(){function e(){var t=n.shift();t&&t(e)}var n=[];return function(t){n.push(t),1==n.length&&e()}}(),f=function(){function o(t){return t=t.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(t,e){return e.toUpperCase()}),e[t]||(e[t]=function(t){var e=document.body.style;if(t in e)return t;for(var n,o=a.length,i=t.charAt(0).toUpperCase()+t.slice(1);o--;)if((n=a[o]+i)in e)return n;return t}(t))}function r(t,e,n){e=o(e),t.style[e]=n}var a=["Webkit","O","Moz","ms"],e={};return function(t,e){var n,o,i=arguments;if(2==i.length)for(n in e)void 0!==(o=e[n])&&e.hasOwnProperty(n)&&r(t,n,o);else r(t,i[1],i[2])}}();return m}),$.fn.extend({animateCss:function(t){$(this).addClass("animated "+t).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){$(this).removeClass("animated "+t)})}}),window.Aria={init:function(){this.action(),THEME_CONFIG.USE_PJAX&&this.pjax(),THEME_CONFIG.USE_FANCYBOX&&this.fancybox(),THEME_CONFIG.SHOW_HITOKOTO&&this.hitokoto(),this.hljs(),this.commentPlus(),this.ajaxAvatar(),THEME_CONFIG.USE_AJAX_COMMENT&&this.ajaxComment(),THEME_CONFIG.USE_LAZYLOAD&&this.lazyload(),this.postOther(),console.log("%cVer "+THEME_CONFIG.THEME_VERSION+"%cTypecho-Theme-Aria%cBy Siphils https://eriri.ink/","color: #fff; background: #435561; padding:8px 8px;","color: #fff; background: #435561cf; padding:8px 8px;","color: #fff; background: #6fa8dc; padding:8px 8px;")},pjax:function(){$(document).pjax('a[href^="'+THEME_CONFIG.SITE_URL+'"]:not(a[target="_blank"], [no-pjax],a[rel~="nofollow"])',{container:"#pjax-container",fragment:"#pjax-container",timeout:8e3}).on("pjax:send",function(){NProgress.start(),Aria.doPjaxStartAction()}).on("pjax:complete",function(){NProgress.done(),Aria.doPjaxCompleteAction()})},fancybox:function(){($(".post-content img").length||$(".comment-content img").length)&&($("img:not([class~='link-avatar'])",".post-content").wrap(function(){return'<a href="'+this.src+'" data-caption="'+this.title+'" no-pjax class="fancybox" data-fancybox="gallery" style="outline:0"></a>'}),$("img",".comment-text").wrap(function(){return'<a href="'+this.src+'" data-caption="'+this.title+'" no-pjax class="fancybox" style="outline:0"></a>'}),$("a.fancybox").fancybox({animationEffect:"zoom-in-out",animationDuration:500,transitionEffect:"tube",transitionDuration:500,spinnerTpl:'<img style="position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);" src="'+THEME_CONFIG.THEME_URL+'/assets/img/loading.gif">'}))},hitokoto:function(){$.ajax({type:"GET",url:"https://v1.hitokoto.cn/?c=a&encode=text",success:function(t){$("#hitokoto").html(t)}})},hljs:function(){$("pre code").each(function(t,e){hljs.highlightBlock(e)}),$("ol.line-number").length||($("pre>code").each(function(){for(var t=$(this),e=parseInt(t.data("line-start")),n=parseInt(t.data("line-focus")),o=(a=t.html().split("\n")).length,i='<ol class="line-number" '+(isNaN(e)?"":'start="'+e+'"')+">",r=0;r<o;r++)i+=r===n-e?'<li class="hightlight">':"<li>",i+=a[r]+"</li>";i+="</ol>";var a=t.empty().append(i)}),$("code[class~='hljs']").each(function(){var t=null==$(this).attr("class").match(/lang-(\w+)/)?"CODE":$(this).attr("class").match(/lang-(\w+)/)[1].toUpperCase();$(this).prepend('<span class="lang">'+t+"</span>")}))},commentPlus:function(){if($(".OwO").length)new OwO({logo:'<i class="iconfont icon-aria-emotion"></i>表情',container:document.getElementsByClassName("OwO")[0],target:document.getElementsByClassName("textarea")[0],api:THEME_CONFIG.OWO_JSON,position:"down",width:"100%",maxHeight:"250px"});$(".comment-image").length&&($(".comment-image")[0].onclick=function(){$("textarea")[0].value+="![图片描述](图片地址)"})},ajaxAvatar:function(){if($("#comment-cur-avatar").length){var t=document.getElementById("comment-cur-avatar"),e=document.getElementById("mail");function n(){email_value=e.value,email_md5=hex_md5(email_value),new_gravatar="https://cn.gravatar.com/avatar/"+email_md5+"?s=128&r=G",t.setAttribute("src",new_gravatar)}e.value&&n(),-1!=navigator.userAgent.toLowerCase().indexOf("webkit")?e.onblur=n:e.onchange=n,n()}},doPjaxStartAction:function(){$("#header").addClass("slideOutUp"),$("#body").addClass("fadeOut")},doPjaxCompleteAction:function(){$("#header").removeClass("slideOutUp").addClass("slideInDown"),$("#body").removeClass("fadeOut").addClass("fadeIn"),THEME_CONFIG.USE_AJAX_COMMENT&&Aria.ajaxComment(),THEME_CONFIG.USE_FANCYBOX&&Aria.fancybox(),THEME_CONFIG.SHOW_HITOKOTO&&Aria.hitokoto(),THEME_CONFIG.USE_LAZYLOAD&&Aria.lazyload(),Aria.hljs(),Aria.commentPlus(),Aria.ajaxAvatar(),Aria.postOther(),"undefined"!=typeof _hmt&&_hmt.push(["_trackPageview",location.pathname+location.search]),"undefined"!=typeof ga&&ga("send","pageview",location.pathname+location.search),closeNav()},ajaxComment:function(){replyTo="";var d=function(){$(".comment-reply a").click(function(){replyTo=$(this).parent().parent().parent().parent().attr("id")}),$(".cancel-comment-reply a").click(function(){replyTo=""})};d(),$("#comment-form").submit(function(){var e=$(".submit").eq(0),r=$("#comment-form"),a="",s=new Notyf({delay:3e3}),t=$(this).serializeArray();function c(){var t=parseInt($("#response").text());0==t?$("#response").html($("#response").html().replace(/\d+/,t+1)):1==t?$("#response").html($("#response").html().replace(/\d+\sComment/,t+1+" Comments")):$("#response").html($("#response").html().replace(/\d+/,t+1))}function l(t){e.attr("disabled",!1).css("cursor","pointer"),r.css({opacity:"1"}),$("textarea",r).css({background:"initial"}),$("input,textarea",r).attr("disabled",!1),t&&($("#textarea").val(""),replyTo=""),d()}return e.attr("disabled",!0).css("cursor","not-allowed"),r.css({opacity:".5"}),$("textarea",r).css({background:'url("'+THEME_CONFIG.THEME_URL+'/assets/img/loading.gif") center center no-repeat'}),$("input,textarea",r).attr("disabled",!0),$.ajax({type:$(this).attr("method"),url:$(this).attr("action"),data:t,success:function(t){var e;t=$("<code></code>").append($(t));if(!$("#comments",t).length)return s.alert($(".container",t).eq(0).text()),l(!1),!1;if($("input,textarea",r).attr("disabled",!1),$("#textarea").val(""),a=$(".comment-list",t).html().match(/id=\"?comment-\d+/g).join().match(/\d+/g).sort(function(t,e){return t-e}).pop(),""===replyTo)if($("#page-nav li").hasClass("next"))$("#page-nav a").get(-2).click();else{var n=parseInt($("#page-nav li",t).last().hasClass("next")?$("#page-nav li",t).eq(-2).text():$("#page-nav li",t).last().text()),o=parseInt($("#page-nav li").last().text());if(n&&o!=n){var i=$("#page-nav li",t).last().hasClass("next")?$("#page-nav a",t).eq(-2).attr("href"):$("#page-nav a",t).last().attr("href");$.ajax({url:i,success:function(t){$("#comment-data").html($("#comment-data",t)),$("#comments .comment-list").addClass("animated fadeInUp"),d()},error:function(t){window.location.href=i}})}else e=$("#li-comment-"+a,t),$(".comment-list").length||$("#comment-data").append('<ol class="comment-list"></ol>'),$("#comments .comment-list").first().append(e.addClass("animated fadeInUp")),c()}else e=$("#li-comment-"+a,t),$("#"+replyTo).find(".comment-children").length||$("#"+replyTo).append('<div class="comment-children"><ol class="comment-list"></ol></div>'),$("#"+replyTo+" .comment-children .comment-list").first().prepend(e.addClass("animated fadeInUp")),TypechoComment.cancelReply(),c();l(!0),s.confirm("评论提交成功！")},error:function(t){console.log("error"),console.error(t)}}),!1})},lazyload:function(){$("img:not([no-lazyload])").each(function(){$(this).attr("data-original",$(this).attr("src")),$(this).attr("src",THEME_CONFIG.THEME_URL+"/assets/img/loading.gif")}),$(".lazyload").lazyload({effect:"fadeIn"}),$("img:not([no-lazyload])").lazyload({effect:"fadeIn"})},postOther:function(){THEME_CONFIG.SHOW_QRCODE&&$(".post-qrcode").length&&$(".post-qrcode>a").on("click",function(){"none"!==$(".post-qrcode>div").css("display")?$(".post-qrcode>div").fadeOut():$(".post-qrcode>div").fadeIn().css("display","block")}),THEME_CONFIG.SHOW_REWARD&&$(".post-reward").length&&$(".post-reward>a").on("click",function(){"none"!==$(".post-reward>ul").css("display")?$(".post-reward>ul").fadeOut():$(".post-reward>ul").fadeIn().css("display","block")})},action:function(){closeNav(),$("#nav-menu-btn").click(function(t){t.stopPropagation(),$("#nav-vertical").addClass("nav-open"),$("#wrapper").addClass("wrapper-open"),$("#nav-vertical").hasClass("nav-open")&&$(document).one("click",function(){closeNav()})}),$("#nav-vertical").on("click",function(t){t.stopPropagation()}),$("#nav-vertical>.close").on("click",function(){$("#nav-vertical").removeClass("nav-open"),$("#wrapper").removeClass("wrapper-open")}),$("#search-box").hasClass("search-box-open")&&$("#search-box").removeClass("search-box-open"),$("#nav-search-btn").on("click",function(){$("#search-box").addClass("search-box-open")}),$("#search-box>.close").on("click",function(){$("#search-box").removeClass("search-box-open")}),$(window).scroll(function(){100<$(window).scrollTop()?$("#go-top").fadeIn(500):$("#go-top").fadeOut(500,function(){$("#go-top").css("display","none")})}),$("#go-top").click(function(){return $("#go-top").animate({bottom:135,opacity:0}),$("body,html").animate({scrollTop:0},1e3,function(){$("#go-top").animate({bottom:100,opacity:1})}),!1}),window.addEventListener("scroll",function(){(document.documentElement.scrollTop||document.body.scrollTop)<=0?$("#site-avatar").css({height:"35px",width:"35px",margin:"7.5px 5px 0 0"}):$("#site-avatar").css({height:"25px",width:"25px",margin:"12.5px 5px 0 0"})});var t;t=document.querySelector("#nav-menu"),new Headroom(t).init(),$("#111").hover(function(){$("#111 .nav-sub").animateCss("flipInX"),$("#111 .nav-sub").show()},function(){$("#111 .nav-sub").hide()}),$(".nav-right-item").hover(function(){$(".nav-sub",this).animateCss("flipInX"),$(".nav-sub",this).show()},function(){$(".nav-sub",this).hide()})}},window.onload=Aria.init();